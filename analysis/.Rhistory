install.packages("shiny")
A = data.table()
A = data.frame()
View(A)
View(A)
View(A)
View(A)
A.row = c(1, 2, 3)
View(A)
df = data.frame( c(1,2,3),c(1,2,3) )
View(df)
d
library(lme4)
source('~/.active-rstudio-document', echo=TRUE)
setwd("~/Google Drive/git/quadmods")
source('~/.active-rstudio-document', echo=TRUE)
setwd("~/Google Drive/git/quadmods/analysis")
source('~/.active-rstudio-document', echo=TRUE)
nrow(d %>% filter(cond="baseline"))
nrow(d %>% filter(cond=="baseline"))
nrow(d %>% filter(cond=="active"))
nrow(d %>% filter(cond=="teaching"))
ms <- d %>%
filter(phase == "pre") %>%
group_by(workerid, question) %>%
summarise(m = mean(1 - resp)) %>%
group_by(question) %>%
summarise(m.cih = ci.high(m),
m.cil = ci.low(m),
m = mean(m))
qplot(question, m,
ymin = m - m.cil, ymax = m + m.cih,
position = position_dodge(width = .9),
data = ms,
geom = c("bar", "linerange"), stat = "identity") +
geom_hline(yintercept = .5, lty = 2)
ms <- d %>%
select(-resp) %>%
spread(phase, correct) %>%
group_by(workerid, cond, shape, relevant) %>%
summarise(m = mean(post - pre)) %>%
group_by(cond, shape, relevant) %>%
summarise(m.cih = ci.high(m),
m.cil = ci.low(m),
m = mean(m),
n = n())
qplot(cond, m, fill = relevant,
ymin = m - m.cil, ymax = m + m.cih,
position = position_dodge(width = .9),
facets = . ~ shape,
data = ms,
geom = c("bar", "linerange"), stat = "identity")
View(ms)
ms <- d %>%
select(-resp) %>%
spread(phase, correct) %>%
group_by(cond, shape, question, relevant) %>%
summarise(m.cih = ci.high(post - pre),
m.cil = ci.low(post - pre),
m = mean(post - pre))
qplot(question, m, fill = relevant,
ymin = m - m.cil, ymax = m + m.cih,
position = position_dodge(width = .9),
facets = shape ~ cond,
data = ms,
geom = c("bar", "linerange"), stat = "identity")
ms <- d %>%
group_by(cond, shape, phase, question, relevant) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
qplot(question, m, fill = phase,
ymin = m - m.cil, ymax = m + m.cih,
position = position_dodge(width = .9),
alpha = relevant,
facets = shape ~ cond,
data = ms,
geom = c("bar", "linerange"), stat = "identity")
ms <- d %>%
select(-resp) %>%
spread(phase, correct) %>%
group_by(workerid, cond, shape, relevant) %>%
summarise(m = mean(post - pre)) %>%
group_by(cond, shape, relevant) %>%
summarise(m.cih = ci.high(m),
m.cil = ci.low(m),
m = mean(m),
n = n())
qplot(cond, m, fill = relevant,
ymin = m - m.cil, ymax = m + m.cih,
position = position_dodge(width = .9),
facets = . ~ shape,
data = ms,
geom = c("bar", "linerange"), stat = "identity")
ms <- d %>%
select(-resp) %>%
spread(phase, correct) %>%
group_by(workerid, cond, shape) %>%
summarise(m = mean(post - pre)) %>%
group_by(cond, shape) %>%
summarise(m.cih = ci.high(m),
m.cil = ci.low(m),
m = mean(m),
n = n())
qplot(cond, m,
ymin = m - m.cil, ymax = m + m.cih,
position = position_dodge(width = .9),
facets = . ~ shape,
data = ms,
geom = c("bar", "linerange"), stat = "identity")
ms <- d %>%
select(-resp) %>%
spread(phase, correct) %>%
group_by(workerid, cond, shape) %>%
summarise(m = mean(post - pre)) %>%
group_by(cond, shape) %>%
summarise(m.cih = ci.high(m),
m.cil = ci.low(m),
s = sd(m),
m = mean(m),
n = n())
qplot(cond, m,
ymin = m - m.cil, ymax = m + m.cih,
position = position_dodge(width = .9),
facets = . ~ shape,
data = ms,
geom = c("bar", "linerange"), stat = "identity")
ms$s
ms$m
ms$cond
ms$shape
ms <- d %>%
select(-resp) %>%
spread(phase, correct) %>%
group_by(workerid, cond) %>%
summarise(m = mean(post - pre)) %>%
group_by(cond) %>%
summarise(m.cih = ci.high(m),
m.cil = ci.low(m),
s = sd(m),
m = mean(m),
n = n())
qplot(cond, m,
ymin = m - m.cil, ymax = m + m.cih,
position = position_dodge(width = .9),
data = ms,
geom = c("bar", "linerange"), stat = "identity")
ms$n
d$workerid
length(unique(d$workerid))
ms <- d %>%
select(-resp) %>%
spread(phase, correct) %>%
group_by(workerid, cond, shape) %>%
summarise(m = mean(post - pre)) %>%
group_by(cond) %>%
summarise(m.cih = ci.high(m),
m.cil = ci.low(m),
s = sd(m),
m = mean(m),
n = n())
qplot(cond, m,
ymin = m - m.cil, ymax = m + m.cih,
position = position_dodge(width = .9),
data = ms,
geom = c("bar", "linerange"), stat = "identity")
ms$n
ms$n[0]
ms$n[1]
n1 = ms$n[1]
n2 = ms$n[2]
ms <- d %>%
select(-resp) %>%
spread(phase, correct) %>%
group_by(workerid, cond, shape) %>%
summarise(m = mean(post - pre)) %>%
group_by(cond) %>%
summarise(m.cih = ci.high(m),
m.cil = ci.low(m),
s = var(m),
m = mean(m),
n = n())
qplot(cond, m,
ymin = m - m.cil, ymax = m + m.cih,
position = position_dodge(width = .9),
data = ms,
geom = c("bar", "linerange"), stat = "identity")
n1 = ms$n[1]
n2 = ms$n[2]
s1 = ms$s[1]
s1
s2 = ms$s[2]
m1 = ms$m[1]
m2 = ms$m[2]
s = sqrt(((n1-1)s1 - (n2-1)s2)/(n2+n1-2))
s = sqrt(((n1-1)*s1 - (n2-1)*s2)/(n2+n1-2))
n1
help(n1)
??n1
n1[0]
n1[1]
n1 = 88
n1
n2 = 95
s = sqrt(((n1-1)*s1 - (n2-1)*s2)/(n2+n1-2))
s = sqrt(((n1-1)*s1 + (n2-1)*s2)/(n2+n1-2))
(m1 - m2)/s
install.packages("pwr")
library(pwr)
pwr.t.test(d=.2)
pwr.t.test(d=.2,power=.99)
pwr.t.test(d=.2,power=.95)
pwr.t.test(d=.2,power=.9)
pwr.t.test(d=.2,power=.5)
pwr.t.test(d=.4,power=.5)
pwr.t.test(d=.6,power=.5)
pwr.t.test(d=.6,n=30)
