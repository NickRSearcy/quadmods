d1$block <- factor(d1$block, levels = c("pretest", "posttest"))
ms <- d1 %>%
filter(trial_type %in% c("relational")) %>%
group_by(question_and_shape, question, block, training_condition) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
ggplot(aes(x = question_and_shape, y = m, fill = question), data = ms) +
geom_bar(stat="identity") +
geom_linerange(aes( ymin = m - m.cil, ymax = m + m.cih)) +
geom_hline(yintercept = .5, lty = 2) +
ylim(0, 1) +
facet_grid(training_condition~block) +
scale_fill_solarized() +
theme(axis.text.x = element_text(angle = 65, hjust = 1))
ms <- d1 %>%
filter(trial_type %in% c("entity")) %>%
group_by(question_and_shape, question, training_condition, block) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
ggplot(aes(x = question_and_shape, y = m, fill = question), data = ms) +
geom_bar(stat="identity") +
geom_linerange(aes( ymin = m - m.cil, ymax = m + m.cih)) +
ylim(0, 1) +
facet_grid(training_condition~block) +
scale_fill_solarized() +
theme(axis.text.x = element_text(angle = 65, hjust = 1))
ms <- d1 %>%
filter(trial_type %in% c("relational")) %>%
group_by(question_and_shape, question, block, training_condition) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
ggplot(aes(x = question_and_shape, y = m, fill = question), data = ms) +
geom_bar(stat="identity") +
geom_linerange(aes( ymin = m - m.cil, ymax = m + m.cih)) +
geom_hline(yintercept = .5, lty = 2) +
ylim(0, 1) +
facet_grid(training_condition~block) +
scale_fill_solarized() +
theme(axis.text.x = element_text(angle = 65, hjust = 1)) +
ggtitle("Accuracy on each question: Relational Test")
ms <- d1 %>%
filter(trial_type %in% c("entity")) %>%
group_by(question_and_shape, question, training_condition, block) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
ggplot(aes(x = question_and_shape, y = m, fill = question), data = ms) +
geom_bar(stat="identity") +
geom_linerange(aes( ymin = m - m.cil, ymax = m + m.cih)) +
ylim(0, 1) +
facet_grid(training_condition~block) +
scale_fill_solarized() +
theme(axis.text.x = element_text(angle = 65, hjust = 1)) +
ggtitle("Accuracy on each question: Entity Test")
ms <- d1 %>%
filter(block == "pretest", trial_type %in% c("entity")) %>%
group_by(question) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
ggplot(aes(x = question, y = m), data = ms) +
geom_bar(stat="identity") +
geom_linerange(aes( ymin = m - m.cil, ymax = m + m.cih)) +
ylim(0, 1) +
theme(axis.text.x = element_text(angle = 65, hjust = 1))
ms <- d1 %>%
filter(trial_type %in% c("entity")) %>%
group_by(question) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
ggplot(aes(x = question, y = m), data = ms) +
geom_bar(stat="identity") +
geom_linerange(aes( ymin = m - m.cil, ymax = m + m.cih)) +
ylim(0, 1) +
facet_grid(.~block) +
theme(axis.text.x = element_text(angle = 65, hjust = 1)) +
ggtitle("Accuracy on each shape: Entity Test")
ms <- d1 %>%
filter(trial_type %in% c("entity")) %>%
group_by(question, block) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
ggplot(aes(x = question, y = m), data = ms) +
geom_bar(stat="identity") +
geom_linerange(aes( ymin = m - m.cil, ymax = m + m.cih)) +
ylim(0, 1) +
facet_grid(.~block) +
theme(axis.text.x = element_text(angle = 65, hjust = 1)) +
ggtitle("Accuracy on each shape: Entity Test")
ms <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(training_condition, trial_type, block = as.factor(block)) %>%
summarise(m_acc = mean(correct),
m.cih = ci.high(correct),
m.cil = ci.low(correct))
ms %<>% mutate(chance_line = ifelse(trial_type == "relational", 0.5, NA))
ggplot(aes(x = block, y = m_acc, color = training_condition), data = ms) +
geom_pointrange(aes(ymin = m_acc - m.cil, ymax = m_acc + m.cih)) +
geom_line(aes(group=training_condition)) +
geom_hline(aes(yintercept = chance_line), linetype = "dashed") +
ylim(0,1.0) +
facet_grid(.~trial_type) +
scale_color_solarized()
ms <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(training_condition, trial_type, block = as.factor(block)) %>%
summarise(m_acc = mean(correct),
m.cih = ci.high(correct),
m.cil = ci.low(correct))
ms %<>% mutate(chance_line = ifelse(trial_type == "relational", 0.5, NA))
ggplot(aes(x = block, y = m_acc, color = training_condition), data = ms) +
geom_pointrange(aes(ymin = m_acc - m.cil, ymax = m_acc + m.cih)) +
geom_line(aes(group=training_condition)) +
geom_hline(aes(yintercept = chance_line), linetype = "dashed") +
ylim(0.4,1.0) +
facet_grid(.~trial_type) +
scale_color_solarized()
ms <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(training_condition, trial_type, block = as.factor(block)) %>%
summarise(m_acc = mean(correct),
m.cih = ci.high(correct),
m.cil = ci.low(correct))
ms %<>% mutate(chance_line = ifelse(trial_type == "relational", 0.5, 0.5))
ggplot(aes(x = block, y = m_acc, color = training_condition), data = ms) +
geom_pointrange(aes(ymin = m_acc - m.cil, ymax = m_acc + m.cih)) +
geom_line(aes(group=training_condition)) +
geom_hline(aes(yintercept = chance_line), linetype = "dashed") +
ylim(0.4,1.0) +
facet_grid(.~trial_type) +
scale_color_solarized()
ss_acc <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(subids, training_condition, block, trial_type) %>%
summarise(m_acc = mean(correct)) %>%
spread(key = block, value = m_acc) %>%
mutate(m_diff_score = posttest - pretest)
ms_change <- ss_acc %>%
group_by(training_condition, trial_type) %>%
summarise(m_change_score = mean(m_diff_score),
m.cih = ci.high(m_diff_score),
m.cil = ci.low(m_diff_score))
ggplot(aes(x = training_condition, y = m_change_score, fill = training_condition),
data = ms_change) +
geom_bar(stat = "identity") +
geom_linerange(aes(ymin = m_change_score - m.cil, ymax = m_change_score + m.cih)) +
geom_hline(yintercept = 0) +
facet_grid(.~trial_type) +
scale_fill_solarized() +
ylim(-0.45, 0.45) +
guides(fill=F)
ms <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(training_condition, trial_type, block = as.factor(block)) %>%
summarise(m_acc = mean(correct),
m.cih = ci.high(correct),
m.cil = ci.low(correct))
ms %<>% mutate(chance_line = ifelse(trial_type == "relational", 0.5, 0.5))
ggplot(aes(x = block, y = m_acc, color = training_condition), data = ms) +
geom_pointrange(aes(ymin = m_acc - m.cil, ymax = m_acc + m.cih)) +
geom_line(aes(group=training_condition)) +
geom_hline(aes(yintercept = chance_line), linetype = "dashed") +
ylim(0.4,1.0) +
facet_grid(.~trial_type) +
scale_color_solarized()
ss_acc <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(subids, training_condition, block, trial_type) %>%
summarise(m_acc = mean(correct)) %>%
spread(key = block, value = m_acc) %>%
mutate(m_diff_score = posttest - pretest)
ms_change <- ss_acc %>%
group_by(training_condition, trial_type) %>%
summarise(m_change_score = mean(m_diff_score),
m.cih = ci.high(m_diff_score),
m.cil = ci.low(m_diff_score))
ggplot(aes(x = training_condition, y = m_change_score, fill = training_condition),
data = ms_change) +
geom_bar(stat = "identity") +
geom_linerange(aes(ymin = m_change_score - m.cil, ymax = m_change_score + m.cih)) +
geom_hline(yintercept = 0) +
facet_grid(.~trial_type) +
scale_fill_solarized() +
ylim(-0.45, 0.45) +
guides(fill=F)
d_shape_learned <- filter(d1, question == shape_learned | shape == shape_learned)
ms_shape <- d_shape_learned %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(training_condition, trial_type, block = as.factor(block)) %>%
summarise(m_acc = mean(correct),
m.cih = ci.high(correct),
m.cil = ci.low(correct))
ms_shape$block <- factor(ms_shape$block, levels = c("pretest", "posttest"))
ms_shape %<>% mutate(chance_line = ifelse(trial_type == "relational", 0.5, 0.5))
ggplot(aes(x = block, y = m_acc, color = training_condition), data = ms_shape) +
geom_pointrange(aes(ymin = m_acc - m.cil, ymax = m_acc + m.cih)) +
geom_line(aes(group=training_condition)) +
geom_hline(aes(yintercept = chance_line), linetype = "dashed") +
ylim(0.4,1.0) +
facet_grid(.~trial_type) +
scale_color_solarized()
ss_acc_learned <- d_shape_learned %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(subids, training_condition, block, trial_type) %>%
summarise(m_acc = mean(correct)) %>%
spread(key = block, value = m_acc) %>%
mutate(m_diff_score = posttest - pretest)
ms_change_learned <- ss_acc_learned %>%
group_by(training_condition, trial_type) %>%
summarise(m_change_score = mean(m_diff_score),
m.cih = ci.high(m_diff_score),
m.cil = ci.low(m_diff_score))
ggplot(aes(x = training_condition, y = m_change_score, fill = training_condition),
data = ms_change_learned) +
geom_bar(stat = "identity") +
geom_linerange(aes(ymin = m_change_score - m.cil, ymax = m_change_score + m.cih)) +
geom_hline(yintercept = 0) +
facet_grid(.~trial_type) +
scale_fill_solarized() +
ylim(-0.4, 0.4) +
guides(fill=F)
mm1 <- glmer(correct ~ training_condition * trial_type * block + (1|subids),
data = filter(d1, trial_type %in% c("relational", "entity")),
family=binomial,
nAGQ = 1,
control = glmerControl(optimizer = "bobyqa"))
summary(mm1)
View(ss)
ss_m <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(subids, training_condition, block, trial_type) %>%
summarise(m = mean(correct),
m.cih = ci.high(correct),
m.cil = ci.low(correct))
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_point() +
geom_line() +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_pointrange(aes(ymin = m - m.cil, ymax = m + m.cih)) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_pointrange() +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_point() +
facet_grid(.~trial_type) +
scale_color_solarized()
?geom_point
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_point() +
geom_jitter() +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_point() +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
?geom_line
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_point() +
geom_line(aes(color = block)) +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_point() +
geom_line(aes(color = subids)) +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
glimpse(ss_m)
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_point() +
geom_line(aes(color = factor(subids))) +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition), data = ss_m) +
geom_point() +
geom_line(group = 1) +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition, group = subids), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.1) +
facet_grid(.~trial_type) +
scale_color_solarized()
View(ss_m)
View(ss_acc)
View(ss_acc)
ggplot(aes(x = m_diff_score), data = ss_acc) +
geom_histogram() +
facet_grid(.~trial_type)
ggplot(aes(x = m_diff_score), data = ss_acc) +
geom_histogram(binwidth = .01) +
facet_grid(.~trial_type)
ggplot(aes(x = m_diff_score), data = ss_acc) +
geom_histogram(binwidth = .005) +
facet_grid(.~trial_type)
ggplot(aes(x = m_diff_score), data = ss_acc) +
geom_histogram(binwidth = .01) +
facet_grid(.~trial_type)
ggplot(aes(x = m_diff_score), data = ss_acc) +
geom_histogram(binwidth = .05) +
facet_grid(.~trial_type)
ggplot(aes(x = m_diff_score), data = ss_acc) +
geom_histogram(binwidth = .025) +
facet_grid(.~trial_type)
ggplot(aes(x = m_diff_score, fill = training_condition), data = ss_acc) +
geom_histogram(binwidth = .025) +
facet_grid(.~trial_type)
ggplot(aes(x = m_diff_score, fill = training_condition), data = ss_acc) +
geom_histogram(binwidth = .025) +
facet_grid(.~trial_type) +
scale_fill_solarized()
ss_m <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(subids, training_condition, block, trial_type) %>%
summarise(m = mean(correct),
m.cih = ci.high(correct),
m.cil = ci.low(correct))
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ss_m <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(subids, training_condition, block, trial_type) %>%
summarise(m = mean(correct))
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ss_m <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(subids, training_condition, block, trial_type) %>%
summarise(m = mean(correct))
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
facet_grid(.~trial_type) +
scale_color_solarized()
?geom_line
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
geom_smooth(aes(group=1), method = "lm", se = F, color = "red", size = 2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
geom_smooth(aes(group=1), method = "lm", se = T, color = "black", size = 2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
geom_smooth(aes(group=training_condition), method = "lm", se = T, color = "black", size = 2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ss_m <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(subids, training_condition, block, trial_type) %>%
summarise(m = mean(correct))
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
geom_smooth(aes(group=training_condition,
color = training_condition), method = "lm", se = T, size = 2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
geom_smooth(aes(group=training_condition,
color = training_condition), method = "lm", se = T, size = 2) +
facet_grid(.~trial_type)
ss_m <- d1 %>%
filter(trial_type %in% c("relational", "entity")) %>%
group_by(subids, training_condition, block, trial_type) %>%
summarise(m = mean(correct))
ggplot(aes(x = block, y = m, color = training_condition, group = as.factor(subids)), data = ss_m) +
geom_point() +
geom_line() +
geom_jitter(width = 0.2) +
facet_grid(.~trial_type) +
scale_color_solarized()
ms <- d1 %>%
filter(trial_type %in% c("relational")) %>%
group_by(question_and_shape, question, block, training_condition) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
ggplot(aes(x = question_and_shape, y = m, fill = question), data = ms) +
geom_bar(stat="identity") +
geom_linerange(aes( ymin = m - m.cil, ymax = m + m.cih)) +
geom_hline(yintercept = .5, lty = 2) +
ylim(0, 1) +
facet_grid(training_condition~block) +
scale_fill_solarized() +
theme(axis.text.x = element_text(angle = 65, hjust = 1)) +
ggtitle("Accuracy on each question: Relational Test")
library(langcog)
library(dplyr)
library(ggplot2)
library(tidyr)
library(binom)
library(lme4)
library(bootstrap)
library(magrittr)
library(stringr)
theme_set(theme_bw())
## for bootstrapping 95% confidence intervals
theta <- function(x,xdata,na.rm=T) {mean(xdata[x],na.rm=na.rm)}
ci.low <- function(x,na.rm=T) {
mean(x,na.rm=na.rm) - quantile(bootstrap(1:length(x),1000,theta,x,na.rm=na.rm)$thetastar,.025,na.rm=na.rm)}
ci.high <- function(x,na.rm=T) {
quantile(bootstrap(1:length(x),1000,theta,x,na.rm=na.rm)$thetastar,.975,na.rm=na.rm) - mean(x,na.rm=na.rm)}
d1 <- read.csv("../data/quadmods-sequences-test.csv", header=TRUE,
row.names=NULL, stringsAsFactors = FALSE)
d1$block <- factor(d1$block, levels = c("pretest", "posttest"))
d1 %>%
select(subids, training_condition) %>%
unique() %>%
group_by(training_condition) %>%
summarise(n())
d1 %>%
group_by(training_condition) %>%
summarise(m_train_time = (mean(training_time) / 1000) / 60,
m_exp_time = (mean(exp_time) / 1000) / 60)
ss <- d1 %>%
distinct(subids) %>%
mutate(train_time_min = (training_time / 1000) / 60,
exp_time_min = (exp_time / 1000) / 60)
ggplot(aes(x=exp_time_min), data = ss) +
geom_histogram(binwidth = 0.2) +
facet_grid(.~training_condition)
ms <- d1 %>%
filter(trial_type %in% c("relational")) %>%
group_by(question_and_shape, question, block, training_condition) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
ggplot(aes(x = question_and_shape, y = m, fill = question), data = ms) +
geom_bar(stat="identity") +
geom_linerange(aes( ymin = m - m.cil, ymax = m + m.cih)) +
geom_hline(yintercept = .5, lty = 2) +
ylim(0, 1) +
facet_grid(training_condition~block) +
scale_fill_solarized() +
theme(axis.text.x = element_text(angle = 65, hjust = 1)) +
ggtitle("Accuracy on each question: Relational Test")
ms <- d1 %>%
filter(trial_type %in% c("entity")) %>%
group_by(question_and_shape, question, training_condition, block) %>%
summarise(m.cih = ci.high(correct),
m.cil = ci.low(correct),
m = mean(correct))
ggplot(aes(x = question_and_shape, y = m, fill = question), data = ms) +
geom_bar(stat="identity") +
geom_linerange(aes( ymin = m - m.cil, ymax = m + m.cih)) +
ylim(0, 1) +
facet_grid(training_condition~block) +
scale_fill_solarized() +
theme(axis.text.x = element_text(angle = 65, hjust = 1)) +
ggtitle("Accuracy on each question: Entity Test")
